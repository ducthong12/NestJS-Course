type UserOutput {
  email: String!
  name: String
  role: Role
}

type Post {
  title: String!
  content: String
  published: Boolean!
  viewCount: Int!
  authorId: Int!
}

type UserWithPosts {
  email: String!
  name: String
  role: Role
  posts: [Post]
}

enum Role {
  ADMIN
  USER
}

input CreateUserInput {
  email: String!
  name: String
  role: Role
}

input UpdateUserInput {
  email: String!
  name: String
}

type Query {
  findEmailWithPost(email: String!): UserOutput
  findAllUser: [UserOutput]
  findUserWithLeastPost: [UserWithPosts]
}

type Mutation {
  createUser(createUserInput: CreateUserInput!): UserOutput!
  updateUser(updateUserInput: UpdateUserInput!): [UserOutput!]
  removeUser(email: String!): Boolean!
}

type Subscription {
  userAdded: UserOutput! # Tên sự kiện client sẽ lắng nghe
}
